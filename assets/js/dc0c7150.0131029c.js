"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9109],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var c=n.createContext({}),s=function(e){var t=n.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,c=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),m=s(a),u=r,h=m["".concat(c,".").concat(u)]||m[u]||d[u]||l;return a?n.createElement(h,i(i({ref:t},p),{},{components:a})):n.createElement(h,i({ref:t},p))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=u;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o[m]="string"==typeof e?e:r,i[1]=o;for(var s=2;s<l;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},98530:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>s});var n=a(87462),r=(a(67294),a(3905));const l={sidebar_position:2},i="SmartContract Calls API",o={unversionedId:"examples/calls/smartcontract",id:"examples/calls/smartcontract",title:"SmartContract Calls API",description:"This API helps retrieve information about smart contract transactions, including details about the contract function that was called, the input and output parameters, and more. With this data, you can build applications that interact with smart contracts, perform analytics on contract activity, and more.",source:"@site/docs/examples/calls/smartcontract.md",sourceDirName:"examples/calls",slug:"/examples/calls/smartcontract",permalink:"/docs/examples/calls/smartcontract",draft:!1,editUrl:"https://github.com/bitquery/streaming-data-platform-docs/tree/main/docs/examples/calls/smartcontract.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"SmartContract API",permalink:"/docs/examples/calls/smartcontract_filterby"},next:{title:"Events",permalink:"/docs/category/events"}},c={},s=[{value:"Recent Smart Contract Calls",id:"recent-smart-contract-calls",level:2},{value:"Recent Smart Contract Creation Calls",id:"recent-smart-contract-creation-calls",level:2}],p={toc:s},m="wrapper";function d(e){let{components:t,...a}=e;return(0,r.kt)(m,(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"smartcontract-calls-api"},"SmartContract Calls API"),(0,r.kt)("p",null," This API helps retrieve information about smart contract transactions, including details about the contract function that was called, the input and output parameters, and more. With this data, you can build applications that interact with smart contracts, perform analytics on contract activity, and more."),(0,r.kt)("h2",{id:"recent-smart-contract-calls"},"Recent Smart Contract Calls"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-graphql"},'query MyQuery {\n EVM(dataset: combined, network: bsc) {\n   Calls(\n     limit: {count: 10}\n     orderBy: {descending: Block_Date}\n     where: {Block: {Date: {after: "2023-02-27"}}}\n   ) {\n     Call {\n       LogCount\n       InternalCalls\n     }\n     Transaction {\n       Gas\n       Hash\n       From\n       To\n       Type\n       Index\n     }\n     Block {\n       Date\n     }\n   }\n }\n}\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Calls"),": This is a GraphQL method that retrieves data about smart contract calls on the specified blockchain network.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"limit"),": This parameter specifies the number of entries to return. In this example, we are setting the limit to 10, which means we will get the 10 most recent smart contract calls on the BSC network.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"orderBy"),": This parameter specifies how to order the result. In this example, we are ordering the result by the Block_Date field in descending order, which means that the most recent calls will be returned first.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"where"),": This parameter specifies a filter condition to apply to the result. In this example, we are filtering the result to only include calls made after February 27th, 2023, using the after operator."))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returned Data")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Call"),": This is a GraphQL field that retrieves data about the smart contract call itself, such as the log count and internal calls.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Transaction"),": This is a GraphQL field that retrieves data about the transaction that initiated the smart contract call, such as the gas used, hash, sender and receiver addresses, type, and index.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Block"),": This is a GraphQL field that retrieves data about the block in which the smart contract call was included, such as the date and time of the block."))),(0,r.kt)("h2",{id:"recent-smart-contract-creation-calls"},"Recent Smart Contract Creation Calls"),(0,r.kt)("p",null,'This GraphQL query fetches data from the EVM (Ethereum Virtual Machine) dataset in the "eth" network about the 10 most recent calls made in Ethereum that were created after February 1st, 2023, that were contract creation calls.'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'query MyQuery {\n  EVM(dataset: combined, network: eth) {\n    Calls(\n      limit: {count: 10}\n      orderBy: {descending: Block_Date}\n      where: {Block: {Date: {after: "2023-02-01"}}, Call: {Create: true}}\n    ) {\n      Call {\n        LogCount\n        InternalCalls\n        Create\n        EnterIndex\n        ExitIndex\n      }\n      Transaction {\n        Gas\n        Hash\n        From\n        To\n        Type\n        Index\n      }\n      Block {\n        Date\n      }\n    }\n  }\n}\n\n')),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Parameters")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"network")," argument is set to eth, which specifies that only data from the Ethereum network should be included."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Calls")," field specifies that information about calls should be retrieved."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"limit")," argument is set to {count: 10}, which specifies that only the 10 most recent calls should be returned."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"orderBy")," argument is set to {descending: Block_Date}, which specifies that the calls should be ordered in descending order based on their associated block date."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"where")," argument is used to filter the results based on certain criteria:"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Block")," object is used to filter based on the associated block."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Date")," field within the Block object is filtered using the after operator to only include blocks created after February 1st, 2023."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Call")," object is used to filter based on the call itself."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Create")," field within the Call object is filtered to only include calls that were contract creation calls (i.e., with a true value).")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Returned Data")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"LogCount"),": The number of logs associated with the call."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"InternalCalls"),": The number of internal calls made within the call."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Create"),": A boolean value indicating whether the call was a contract creation call (i.e., with a value of true)."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"EnterIndex"),": The index of the call in the list of calls made within the associated transaction."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"ExitIndex"),": The index of the call in the list of calls made within the associated transaction.")))}d.isMDXComponent=!0}}]);