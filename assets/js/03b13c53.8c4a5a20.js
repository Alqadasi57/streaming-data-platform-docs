"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[92899],{3905:(e,n,r)=>{r.d(n,{Zo:()=>f,kt:()=>m});var t=r(67294);function a(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function s(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){a(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function o(e,n){if(null==e)return{};var r,t,a=function(e,n){if(null==e)return{};var r,t,a={},s=Object.keys(e);for(t=0;t<s.length;t++)r=s[t],n.indexOf(r)>=0||(a[r]=e[r]);return a}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)r=s[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var l=t.createContext({}),c=function(e){var n=t.useContext(l),r=n;return e&&(r="function"==typeof e?e(n):i(i({},n),e)),r},f=function(e){var n=c(e.components);return t.createElement(l.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},u=t.forwardRef((function(e,n){var r=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,f=o(e,["components","mdxType","originalType","parentName"]),p=c(r),u=a,m=p["".concat(l,".").concat(u)]||p[u]||d[u]||s;return r?t.createElement(m,i(i({ref:n},f),{},{components:r})):t.createElement(m,i({ref:n},f))}));function m(e,n){var r=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var s=r.length,i=new Array(s);i[0]=u;var o={};for(var l in n)hasOwnProperty.call(n,l)&&(o[l]=n[l]);o.originalType=e,o[p]="string"==typeof e?e:a,i[1]=o;for(var c=2;c<s;c++)i[c]=r[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,r)}u.displayName="MDXCreateElement"},1029:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var t=r(87462),a=(r(67294),r(3905));const s={sidebar_position:3},i="NFT Transfer API",o={unversionedId:"examples/nft/nft-transfer-api",id:"examples/nft/nft-transfer-api",title:"NFT Transfer API",description:"The NFT Transfer API provides access to diverse NFT transfer data on supported blockchains and have various use cases. For instance we can retrieve daily transfers, monitor top NFT transfers, track the latest transfers of specific NFTs, and subscribe to real-time transfers for instant updates etc.",source:"@site/docs/examples/nft/nft-transfer-api.md",sourceDirName:"examples/nft",slug:"/examples/nft/nft-transfer-api",permalink:"/docs/examples/nft/nft-transfer-api",draft:!1,editUrl:"https://github.com/bitquery/streaming-data-platform-docs/tree/main/docs/examples/nft/nft-transfer-api.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"NFT Ownership API",permalink:"/docs/examples/nft/nft-ownership-api"},next:{title:"NFT Calls API",permalink:"/docs/examples/nft/nft-calls-apI"}},l={},c=[{value:"Daily NFT Transfers",id:"daily-nft-transfers",level:2},{value:"Top Transferred NFT on Ethereum",id:"top-transferred-nft-on-ethereum",level:2},{value:"Recent Transfers of an NFT",id:"recent-transfers-of-an-nft",level:2},{value:"Latest NFT transfers Involving Specific User",id:"latest-nft-transfers-involving-specific-user",level:2},{value:"Realtime NFT Transfer Subscriptions",id:"realtime-nft-transfer-subscriptions",level:2}],f={toc:c},p="wrapper";function d(e){let{components:n,...r}=e;return(0,a.kt)(p,(0,t.Z)({},f,r,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"nft-transfer-api"},"NFT Transfer API"),(0,a.kt)("p",null,"The NFT Transfer API provides access to diverse NFT transfer data on supported blockchains and have various use cases. For instance we can retrieve daily transfers, monitor top NFT transfers, track the latest transfers of specific NFTs, and subscribe to real-time transfers for instant updates etc."),(0,a.kt)("h2",{id:"daily-nft-transfers"},"Daily NFT Transfers"),(0,a.kt)("p",null,"Here's an example query that retrieves the daily NFT transfers, providing the quantity of transfers occurring on a day-to-day basis within a specified date range."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  EVM(dataset: combined, network: eth) {\n    Transfers(\n      orderBy: {ascending: Block_Date}\n      where: {Block: {Date: {since: "2023-05-02", till: "2023-05-09"}}, Transfer: {Currency: {Fungible: false}}}\n    ) {\n      Block {\n        Date\n      }\n      count\n    }\n  }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Parameters")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"network")," : Specifies the Ethereum network."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"dataset")," : Indicates the ",(0,a.kt)("a",{parentName:"li",href:"/docs/graphql/dataset/combined"},"combined")," dataset to be used. "),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"orderBy")," : Orders the results in ascending order based on the Block_Date."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"where"),' : It filters the results based on the specified conditions. In this case, it selects transfers where currency is non-fungible and block date is between "2023-05-02" and "2023-05-09".')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Returned Data")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"count")," : The count of NFT transfers that occurred within the specified date range."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"Block")," : The ",(0,a.kt)("inlineCode",{parentName:"li"},"date")," specifies the date of the block associated with each transfer.")),(0,a.kt)("p",null,"You can find the graphql query ",(0,a.kt)("a",{parentName:"p",href:"https://ide.bitquery.io/NFT-Token-Transfers-By-Date"},"here"),"."),(0,a.kt)("h2",{id:"top-transferred-nft-on-ethereum"},"Top Transferred NFT on Ethereum"),(0,a.kt)("p",null,"This query fetches the most frequently transferred NFTs on the Ethereum Blockchain within the specified date range."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  EVM(dataset: combined network: eth){\n    Transfers(\n      orderBy: {descendingByField: "count"}\n      limit: {offset: 10 count: 0}\n      where: {\n        Block: {Date: {since: "2023-05-02" till: "2023-05-09" }}\n        Transfer: {Currency: {Fungible: false}}}\n    ){\n      Transfer {\n        Currency {\n          Symbol\n          SmartContract\n        }\n      }\n      count\n      senders: uniq(of: Transfer_Sender method: approximate)\n      receivers: uniq(of: Transfer_Receiver method: approximate)\n      ids: uniq(of: Transfer_Id method: approximate)\n    }\n  }\n}\n')),(0,a.kt)("p",null,"You can find the graphql query ",(0,a.kt)("a",{parentName:"p",href:"https://ide.bitquery.io/Top-transfered-NFT-tokens-in-network"},"here"),"."),(0,a.kt)("h2",{id:"recent-transfers-of-an-nft"},"Recent Transfers of an NFT"),(0,a.kt)("p",null,"Using this query, we can retrieve the most recent transfers of an NFT, ordered by block time.  Includes details such as transfer amount, currency information, sender, receiver, transfer type, NFT ID, and more."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  EVM(dataset: archive, network: eth) {\n    Transfers(\n      where: {Transfer: {Currency: {SmartContract: {is: "0xdba45c28b32f2750bdc3c25d6a0118d8e1c8ca80"}}}}\n      limit: {count: 10}\n      orderBy: {descending: Block_Time}\n    ) {\n      Transfer {\n        Amount\n        Currency {\n          Name\n          Symbol\n        }\n        Receiver\n        Sender\n        Type\n        Id\n        URI\n        Data\n      }\n    }\n  }\n}\n')),(0,a.kt)("p",null,"You can find the graphql query ",(0,a.kt)("a",{parentName:"p",href:"https://ide.bitquery.io/latest-nft-transfers"},"here"),"."),(0,a.kt)("h2",{id:"latest-nft-transfers-involving-specific-user"},"Latest NFT transfers Involving Specific User"),(0,a.kt)("p",null,"This query retrieves the latest transfers of an NFT involving a specific user. The ",(0,a.kt)("inlineCode",{parentName:"p"},"sent")," field retrieves transfers where the user is the sender, while the ",(0,a.kt)("inlineCode",{parentName:"p"},"recieved")," field retrieves transfers where the user is the receiver. "),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  EVM(dataset: archive, network: eth) {\n    sent: Transfers(\n      where: {Transfer: {Sender: {is: "0x415bdfed5a7c490e1a89332648d8eb339d4eea69"}}}\n      limit: {count: 10}\n      orderBy: {descending: Block_Time}\n    ) {\n      Transfer {\n        Amount\n        Currency {\n          Name\n          Symbol\n        }\n        Receiver\n        Sender\n        Type\n        Id\n        URI\n      }\n    }\n    recieved: Transfers(\n      where: {Transfer: {Receiver: {is: "0x415bdfed5a7c490e1a89332648d8eb339d4eea69"}}}\n      limit: {count: 10}\n      orderBy: {descending: Block_Time}\n    ) {\n      Transfer {\n        Amount\n        Currency {\n          Name\n          Symbol\n        }\n        Receiver\n        Sender\n        Type\n        Id\n        URI\n      }\n    }\n  }\n}\n\n')),(0,a.kt)("p",null,"You can find the graphql query ",(0,a.kt)("a",{parentName:"p",href:"https://ide.bitquery.io/latest-nft-transfers-by-a-user"},"here"),"."),(0,a.kt)("h2",{id:"realtime-nft-transfer-subscriptions"},"Realtime NFT Transfer Subscriptions"),(0,a.kt)("p",null,"Using Streaming APIs, you can subscribe to real-time changes on blockchains. We use a GraphQL subscription,which function similarly to WebSockets. Below example, shows how to subscribe to the latest transfers of the NFT token with the smart contract address ",(0,a.kt)("inlineCode",{parentName:"p"},"0xdba45c28b32f2750bdc3c25d6a0118d8e1c8ca80"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-graphql"},'subscription {\n  EVM(network: eth, trigger_on: head) {\n    Transfers(\n      where: {Transfer: {Currency: {SmartContract: {is: "0xdba45c28b32f2750bdc3c25d6a0118d8e1c8ca80"}}}}\n      limit: {count: 10}\n      orderBy: {descending: Block_Time}\n    ) {\n      Transfer {\n        Amount\n        Currency {\n          Name\n          Symbol\n        }\n        Receiver\n        Sender\n        Type\n        Id\n        URI\n        Data\n      }\n    }\n  }\n}\n')),(0,a.kt)("p",null,"You can find the graphql query ",(0,a.kt)("a",{parentName:"p",href:"https://ide.bitquery.io/Subscription-WebSocket---Latest-NFT-Transfers"},"here"),"."))}d.isMDXComponent=!0}}]);